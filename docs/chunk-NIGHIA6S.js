import{a as j}from"./chunk-CLYS6LLK.js";import{g as T}from"./chunk-G5ZQNHKW.js";import"./chunk-UXV34W4T.js";import{D as y,E as a,H as h,J as c,Ka as O,O as p,P as _,Ra as P,T as u,U as C,V as s,_a as v,db as U,gb as k,lb as F,m as x,o as w,p as b,pb as N,qb as S,t as d,ta as M,u as g}from"./chunk-KNFC6JSA.js";function D(e,l){if(e&1){let t=u();p(0,"winput",3),C("wChange",function(i){let o=d(t).$implicit,m=s();return o.is.admin=i,g(m.update(o))}),_()}if(e&2){let t=l.$implicit;c("value",t.is.admin)}}function V(e,l){if(e&1){let t=u();p(0,"winput",5),C("wChange",function(i){let o=d(t).$implicit,m=s().$implicit,r=s();return o.is[m]=i,g(r.update(o))}),_()}if(e&2){let t=l.$implicit,n=s().$implicit,i=s();c("title",i.roleDescription[n])("value",t.is[n])}}function A(e,l){if(e&1&&h(0,V,1,2,"ng-template",4),e&2){let t=l.$implicit,n=s();c("cell",n.roleName[t]||t)}}var I=(()=>{class e{get users(){return this._us.users}constructor(t,n,i,o,m){this._translate=t,this._us=n,this._form=i,this._alert=o,this._core=m,this.roles=this._us.roles,this.roleName=this._us.roleName,this.roleDescription=this._us.roleDescription,this.columns=["name","email","admin"],this.form=this._form.getForm("user"),this.config={create:()=>{this._form.modal(this.form,{label:"Create",click:(r,f)=>{this._us.addRole(r,f.bind(this))}}).then(this._us.create.bind(this))},update:r=>{this._form.modal(this.form,[],r).then(f=>{this._core.copy(f,r),this._us.update(r,{alert:"User has been updated"})})},delete:r=>{this._alert.question({text:this._translate.translate("Common.Are you sure you want to delete this user?"),buttons:[{text:this._translate.translate("Common.No")},{text:this._translate.translate("Common.Yes"),callback:()=>{this._us.delete(r,{name:"admin",alert:"User has been deleted",callback:()=>{}})}}]})}};for(let r of this._us.roles)this.columns.push(this._us.roleName[r]||r)}update(t){this._us.updateAdmin(t)}static{this.\u0275fac=function(n){return new(n||e)(a(U),a(j),a(F),a(v),a(P))}}static{this.\u0275cmp=w({type:e,selectors:[["app-users"]],decls:3,vars:4,consts:[[3,"columns","config","rows"],["cell","admin"],[4,"ngFor","ngForOf"],["title","Administrator","type","checkbox",3,"wChange","value"],[3,"cell"],["type","checkbox",3,"wChange","title","value"]],template:function(n,i){n&1&&(p(0,"wtable",0),h(1,D,1,1,"ng-template",1)(2,A,1,1,null,2),_()),n&2&&(c("columns",i.columns)("config",i.config)("rows",i.users),y(2),c("ngForOf",i.roles))},dependencies:[M,k,S,N],styles:["[_ngcontent-%COMP%]:root{--c-white: #fff;--c-basic: #3558ae;--c-primary: #256eff;--c-primary-hover: #0051f1;--c-secondary: red;--c-bg-primary: #f3f4f7;--c-bg-secondary: #ffffff;--c-bg-tertiary: #fcfdfe;--c-border: #f0f1f7;--c-shadow: #f3f3f3;--c-text-primary: #666666;--c-text-secondary: #19235c;--c-placeholder: #adb8c6;--c-img-round: 50%}html.dark[_ngcontent-%COMP%]:root{--c-white: #fff;--c-basic: #333;--c-bg-primary: #282828;--c-bg-secondary: #343434;--c-bg-tertiary: #404040;--c-border: #404040;--c-shadow: #444444;--c-text-primary: #ffffff;--c-text-secondary: #ffffff;--c-placeholder: #7a7a7a}.w-table-user[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap}.w-table-user__img[_ngcontent-%COMP%]{width:30px;height:30px;min-width:30px;min-height:30px;margin-right:10px}.w-table-user__img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:var(--b-radius-img)}@media (max-width: 991.9px){.w-table-user__img[_ngcontent-%COMP%]{display:none}}@media (max-width: 991.9px){.w-table[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%], .w-table[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{display:none}}.w-table[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{height:18px;max-height:18px;display:block}.w-table[_ngcontent-%COMP%]   .checkbox__body[_ngcontent-%COMP%]{padding:2px}.users-field[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end}.users-field[_ngcontent-%COMP%]   .w-btn[_ngcontent-%COMP%]{margin:10px}.users-field[_ngcontent-%COMP%]   .forms[_ngcontent-%COMP%]{width:100%}@media (max-width: 575.9px){.users-field[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.users-field[_ngcontent-%COMP%]   .w-btn[_ngcontent-%COMP%]{margin-bottom:20px;width:100%}}.w-table__td.actions[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{transition:var(--transition)}.w-table__td.actions[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]:hover{color:var(--c-error)}.w-table__td.actions[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] + i[_ngcontent-%COMP%]{margin-left:15px}.users__header[_ngcontent-%COMP%]{letter-spacing:0;line-height:23px;font-weight:500;font-size:20px;color:var(--c-text-primary);display:flex;justify-content:space-between;align-items:center;border-radius:var(--b-radius)}"]})}}return e})();var E=[{path:"",component:I}],X=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=b({type:e})}static{this.\u0275inj=x({imports:[O.forChild(E),T]})}}return e})();export{X as UsersModule};
