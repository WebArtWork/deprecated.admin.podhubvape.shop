import{La as c,Ya as h,_a as n,l as a,n as o}from"./chunk-KNFC6JSA.js";var p=(()=>{class i{new(){return{}}constructor(e,s){this.mongo=e,this.alert=s,this.config=c.store||{defaultIndexPage:"",pageTitle:"Stores",docTitle:"Store",pages:[]},this.stores=[],this._stores={},this.stores=e.get("store",{replace:{data:e.beObj}},(t,r)=>{this._stores=r})}create(e=this.new(),s=r=>{},t="store has been created."){e._id?this.save(e):this.mongo.create("store",e,r=>{s(r),this.alert.show({text:t})})}doc(e){return this._stores[e]||(this._stores[e]=this.mongo.fetch("store",{query:{_id:e}})),this._stores[e]}update(e,s=r=>{},t="store has been updated."){this.mongo.afterWhile(e,()=>{this.save(e,s,t)})}save(e,s=r=>{},t="store has been updated."){this.mongo.update("store",e,()=>{t&&this.alert.show({text:t,unique:e})})}delete(e,s=r=>{},t="store has been deleted."){this.mongo.delete("store",e,()=>{t&&this.alert.show({text:t})})}static{this.\u0275fac=function(s){return new(s||i)(o(h),o(n))}}static{this.\u0275prov=a({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();export{p as a};
