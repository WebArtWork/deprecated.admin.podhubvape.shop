import{Ya as h,_a as n,l as a,n as o}from"./chunk-HR67YQAP.js";var d=(()=>{class r{new(){return{}}constructor(t,e){this.mongo=t,this.alert=e,this.tags=[],this._tags={},this.tags=t.get("tag",{replace:{order:(i,s)=>{s(i||0)}},sort:t.sortAscNumber("order")},(i,s)=>{this._tags=s})}create(t=this.new(),e=s=>{},i="tag has been created."){t._id?this.save(t):this.mongo.create("tag",t,s=>{e(s),this.alert.show({text:i})})}doc(t){return this._tags[t]||(this._tags[t]=this.mongo.fetch("tag",{query:{_id:t}})),this._tags[t]}update(t,e=()=>{},i="tag has been updated."){this.mongo.afterWhile(t,()=>{this.save(t,e,i)})}save(t,e=()=>{},i="tag has been updated."){this.mongo.update("tag",t,()=>{i&&this.alert.show({text:i,unique:t}),typeof e=="function"&&e()})}delete(t,e=()=>{},i="tag has been deleted."){this.mongo.delete("tag",t,()=>{i&&this.alert.show({text:i}),typeof e=="function"&&e()})}static{this.\u0275fac=function(e){return new(e||r)(o(h),o(n))}}static{this.\u0275prov=a({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();export{d as a};
