import{a as M}from"./chunk-CLYS6LLK.js";import{a as S,e as E,f as F,g as I}from"./chunk-G5ZQNHKW.js";import{a as O}from"./chunk-UXV34W4T.js";import{D as c,E as p,H as w,J as s,Ka as v,La as b,O as i,P as a,Ra as x,T as P,U as l,V as d,ca as f,eb as k,ib as j,ja as C,lb as T,m,o as u,p as g,t as h,u as _,ua as y}from"./chunk-KNFC6JSA.js";var D=()=>({"border-radius":"var(--c-img-round)",width:"52px",height:"52px"});function V(o,R){if(o&1){let e=P();i(0,"wform",14),l("wChange",function(t){h(e);let n=d();return _(n.update(t))}),a()}if(o&2){let e=d();s("config",e.formProfile)("submition",e.user)}}var L=(()=>{class o{constructor(e,r,t){this._form=e,this._core=r,this.us=t,this.url=b.url,this.formProfile=this._form.getForm("profile",{formId:"profile",title:"Profile Settings",components:[{name:"Text",key:"name",root:!0,focused:!0,fields:[{name:"Placeholder",value:"Enter your name"},{name:"Label",value:"Name"}]},{name:"Text",key:"phone",fields:[{name:"Placeholder",value:"Enter your phone"},{name:"Label",value:"Phone"}]},{name:"Text",key:"bio",fields:[{name:"Placeholder",value:"Enter your bio"},{name:"Label",value:"Bio"},{name:"Textarea",value:!0}]}]}),this.formPassword=this._form.getForm("change password",{formId:"change password",title:"Change password",components:[{name:"Password",key:"oldPass",root:!0,focused:!0,fields:[{name:"Placeholder",value:"Enter your old password"},{name:"Label",value:"Old Password"}]},{name:"Password",key:"newPass",root:!0,fields:[{name:"Placeholder",value:"Enter your new password"},{name:"Label",value:"New Password"}]}]}),this._core.onComplete("us.user").then(()=>{let n={};this._core.copy(this.us.user,n),this.user=n})}update(e){this._core.copy(e,this.us.user),this.us.updateMe()}changePassword(){this._form.modal(this.formPassword,{label:"Change",click:(e,r)=>{this.us.changePassword(e.oldPass,e.newPass),r()}}).then(e=>{this.us.changePassword(e.oldPass,e.newPass)})}static{this.\u0275fac=function(r){return new(r||o)(p(T),p(x),p(M))}}static{this.\u0275cmp=u({type:o,selectors:[["app-profile"]],decls:18,vars:9,consts:[[1,"container"],[3,"padding"],[1,"profile__header","w-card__header"],[1,"avatar","_profile"],["err","assets/default.png","container","user",3,"update","value","name","isPhoto","imgStyle","height","width"],[1,"profile__body"],[3,"config","submition","wChange",4,"ngIf"],[1,"profile__footer"],[1,"profile__logout"],["type","danger",3,"click"],[1,"material-icons"],["translate",""],[1,"profile__password"],["type","link","translate","",3,"click"],[3,"wChange","config","submition"]],template:function(r,t){r&1&&(i(0,"div",0)(1,"wcard",1)(2,"div",2)(3,"div")(4,"div",3)(5,"ngx-file",4),l("update",function(N){return t.us.user.thumb=N,t.us.updateMe()}),a()()()(),i(6,"div",5),w(7,V,1,2,"wform",6),i(8,"div",7)(9,"div",8)(10,"wbutton",9),l("click",function(){return t.us.logout()}),i(11,"span",10),f(12,"logout"),a(),i(13,"span",11),f(14,"Profile.Logout"),a()()(),i(15,"div",12)(16,"wbutton",13),l("click",function(){return t.changePassword()}),f(17," Profile.Change Password "),a()()()()()()),r&2&&(c(),s("padding",!0),c(4),s("value",t.us.user.thumb?t.url+t.us.user.thumb:"assets/default.png")("name",t.us.user._id+".jpg")("isPhoto",!0)("imgStyle",C(8,D))("height",512)("width",512),c(2),s("ngIf",t.user))},dependencies:[O,y,k,S,j,E],styles:["[_ngcontent-%COMP%]:root{--c-white: #fff;--c-basic: #3558ae;--c-primary: #256eff;--c-primary-hover: #0051f1;--c-secondary: red;--c-bg-primary: #f3f4f7;--c-bg-secondary: #ffffff;--c-bg-tertiary: #fcfdfe;--c-border: #f0f1f7;--c-shadow: #f3f3f3;--c-text-primary: #666666;--c-text-secondary: #19235c;--c-placeholder: #adb8c6;--c-img-round: 50%}html.dark[_ngcontent-%COMP%]:root{--c-white: #fff;--c-basic: #333;--c-bg-primary: #282828;--c-bg-secondary: #343434;--c-bg-tertiary: #404040;--c-border: #404040;--c-shadow: #444444;--c-text-primary: #ffffff;--c-text-secondary: #ffffff;--c-placeholder: #7a7a7a}[_nghost-%COMP%]{width:100%}[_nghost-%COMP%]   wcard[_ngcontent-%COMP%]{width:100%;transition:all .3s;display:block}.container[_ngcontent-%COMP%]{padding:unset}.profile__header[_ngcontent-%COMP%]{z-index:9;top:10px;position:absolute;right:25px;letter-spacing:0;line-height:23px;font-weight:500;font-size:20px;color:var(--c-text-primary);display:flex;justify-content:space-between;align-items:center;border-radius:8px}.profile__footer[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap}@media (max-width: 767.9px){.profile__footer[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.profile__footer[_ngcontent-%COMP%]   .profile__logout[_ngcontent-%COMP%]{order:2;margin-top:20px}}.profile__logout[_ngcontent-%COMP%]   .w-btn[_ngcontent-%COMP%]{margin:0;display:flex;justify-content:space-between;align-items:center}.profile__logout[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{margin-right:10px}.imgClass[_ngcontent-%COMP%]{height:52px;width:52px}.avatar[_ngcontent-%COMP%]{border-radius:50%;border:1px solid var(--c-border);position:relative;margin:0 auto;padding:3px}.avatar._profile[_ngcontent-%COMP%]{width:60px;height:60px}.avatar__img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%}.avatar__upload[_ngcontent-%COMP%]{cursor:pointer;position:absolute;right:0;bottom:0;width:24px;height:24px;border-radius:50%;background:var(--c-primary);display:flex;justify-content:center;align-items:center;transition:.3s all ease-in-out}.avatar__icon[_ngcontent-%COMP%]{color:#fff;font-size:16px}.profile__password[_ngcontent-%COMP%]{cursor:pointer}"]})}}return o})();var B=[{path:"",component:L}],oe=(()=>{class o{static{this.\u0275fac=function(r){return new(r||o)}}static{this.\u0275mod=g({type:o})}static{this.\u0275inj=m({imports:[v.forChild(B),I,F]})}}return o})();export{oe as ProfileModule};
