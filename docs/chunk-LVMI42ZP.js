import{Ya as n,_a as c,l as h,n as a}from"./chunk-2AZ5U4IF.js";var u=(()=>{let s=class s{new(){return{}}constructor(t,e){this.mongo=t,this.alert=e,this.tags=[],this._tags={},this.tags=t.get("tag",{replace:{order:(i,r)=>{r(i||0)}},sort:t.sortAscNumber("order")},(i,r)=>{this._tags=r})}create(t=this.new(),e=r=>{},i="tag has been created."){t._id?this.save(t):this.mongo.create("tag",t,r=>{e(r),this.alert.show({text:i})})}doc(t){return this._tags[t]||(this._tags[t]=this.mongo.fetch("tag",{query:{_id:t}})),this._tags[t]}update(t,e=()=>{},i="tag has been updated."){this.mongo.afterWhile(t,()=>{this.save(t,e,i)})}save(t,e=()=>{},i="tag has been updated."){this.mongo.update("tag",t,()=>{i&&this.alert.show({text:i,unique:t}),typeof e=="function"&&e()})}delete(t,e=()=>{},i="tag has been deleted."){this.mongo.delete("tag",t,()=>{i&&this.alert.show({text:i}),typeof e=="function"&&e()})}};s.\u0275fac=function(e){return new(e||s)(a(n),a(c))},s.\u0275prov=h({token:s,factory:s.\u0275fac,providedIn:"root"});let o=s;return o})();export{u as a};
